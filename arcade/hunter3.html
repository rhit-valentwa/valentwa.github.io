<!DOCTYPE html>
<html>
<head>
  <title>The Hunter 3</title>
  <script src="../scripts/processing.js"></script>
</head>
<body>
   
   
  <canvas id="canvas"></canvas>
  
  
  <script>
    var canvas = document.getElementById("canvas");
    var processing = new Processing(canvas, function(processing) {
        processing.size(600, 600);
        processing.background(0xFFF);

        var mouseIsPressed = false;
        processing.mousePressed = function () { mouseIsPressed = true; };
        processing.mouseReleased = function () { mouseIsPressed = false; };

        var keyIsPressed = false;
        processing.keyPressed = function () { keyIsPressed = true; };
        processing.keyReleased = function () { keyIsPressed = false; };

        function getImage(s) {
            var url = "https://www.kasandbox.org/programming-images/" + s + ".png";
            processing.externals.sketch.imageCache.add(url);
            return processing.loadImage(url);
        }

        // use degrees rather than radians in rotate function
        var rotateFn = processing.rotate;
        processing.rotate = function (angle) {
            rotateFn(processing.radians(angle));
        };

        with (processing) {

        
var page = "Menu"; 
var blockSize = 25; 
var gravityForce = 0.8; 
var frictionForce = 0.4;
var acceleration = 0.5;     
var jump = -15; 
var blockColor = color(100, 100, 50); 

var lavaColor = color(255, 0, 0);
var portalColor = color(0, 255, 0); 
var playerColor = color(0, 255, 255); 
var backgroundColor = color(0, 0, 0,20); 

var level = 0; 


var levels = [ 
    
    /*
    
        0 = nothing
        1 = block
        2 = player spawn point
        3 = lava
        4 = portal
    
    */
    
    
    [
    [0,0,0,0,0,6,0,0,0,0,6,0,0,0,0,6,0,0,0,0,0,0,0,0,4],
    [0,0,0,0,0,6,0,0,0,0,6,0,0,0,0,6,0,0,0,0,0,0,0,0,4],
    [0,0,0,0,0,6,0,0,0,0,6,0,0,0,0,6,0,0,0,0,0,0,0,0,4],
    [0,0,0,0,0,6,0,0,0,0,6,0,0,0,0,6,0,0,0,0,0,0,0,0,4],
    [0,0,0,0,0,6,0,0,0,0,6,0,0,0,0,6,0,0,0,0,0,0,0,0,4], 
    [0,0,0,0,0,6,0,0,0,0,6,0,0,0,0,6,0,0,0,0,0,1,1,1,4], 
    [0,0,0,0,0,6,0,0,0,0,6,0,0,0,0,6,0,0,0,0,0,0,1,1,0], 
    [0,0,0,0,0,6,0,0,0,0,6,0,0,0,0,6,0,0,0,0,0,0,0,0,0], 
    [0,0,0,0,0,6,0,0,0,0,6,0,0,0,0,1,0,0,0,0,0,0,0,0,0],
    [0,0,0,0,0,6,0,0,0,0,6,0,0,0,0,0,0,0,0,0,0,0,0,0,0], 
    [0,0,0,0,0,6,0,0,0,0,6,0,0,0,0,0,0,0,0,0,0,0,0,0,0], 
    [0,0,0,0,0,6,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0], 
    [0,0,0,0,0,6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0], 
    [0,0,0,0,0,6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0], 
    [0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0], 
    [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0], 
    [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0], 
    [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0], 
    [1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0], 
    [1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0], 
    [1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0], 
    [1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
    [1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0], 
    [1,1,1,1,1,1,1,1,1,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,0], 
    ], //1
    
    [ 
    [0,0,0,0,0,0,0,6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4],
    [0,0,0,0,0,0,0,6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4],
    [0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4],
    [0,0,0,0,0,0,0,6,0,0,0,5,0,0,0,0,0,0,0,0,0,0,0,0,4],
    [0,0,0,0,0,0,0,6,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,4], 
    [1,1,1,1,1,1,0,6,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1], 
    [0,0,0,0,0,0,0,6,0,0,0,0,0,0,0,0,0,0,0,0,0,6,0,0,0], 
    [0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,6,0,0,0], 
    [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,0,0,0], 
    [1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,6,0,0,0], 
    [1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,5,0,0,0], 
    [1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0], 
    [1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0], 
    [1,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0], 
    [1,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0], 
    [1,0,1,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0], 
    [1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
    [1,0,0,0,0,5,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0], 
    [1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0],
    [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0], 
    [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0], 
    [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0], 
    [0,0,0,0,0,0,0,5,0,0,0,0,0,0,0,0,0,0,1,3,3,3,3,3,0],
    [1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0],
    ], //2

    [ 
        [0,0,0,6,0,0,6,0,0,6,0,0,6,0,0,0,0,6,0,0,0,0,0,0,4],
        [0,0,0,6,0,0,6,0,0,6,0,0,6,0,0,0,0,6,0,0,0,0,0,0,4], 
        [0,0,0,6,0,0,6,0,0,6,0,0,6,0,0,0,0,6,0,0,0,0,0,0,4], 
        [1,1,0,6,0,0,6,0,0,6,0,0,6,0,0,0,0,6,0,0,0,0,0,0,4], 
        [1,0,0,6,0,0,6,0,0,6,0,0,6,0,0,0,0,6,0,0,0,0,0,0,4], 
        [0,0,0,6,0,0,6,0,0,6,0,0,6,0,0,0,0,6,0,0,0,0,0,0,4], 
        [0,0,0,6,0,0,6,0,0,6,0,0,6,0,0,0,0,6,0,0,0,0,0,0,4], 
        [0,0,0,6,0,0,6,0,0,6,0,0,6,0,0,0,0,6,0,0,0,0,0,0,4], 
        [0,0,0,1,0,0,6,0,0,6,0,0,6,0,0,0,0,6,0,0,0,0,0,0,4], 
        [0,0,0,0,0,0,6,0,0,6,0,0,6,0,0,0,0,6,0,0,0,0,0,0,4], 
        [0,0,0,0,0,0,6,0,0,6,0,0,6,0,0,0,0,6,0,0,0,0,0,0,4], 
        [0,0,0,0,0,0,1,0,0,6,0,0,6,0,0,0,0,6,0,0,0,0,0,0,4], 
        [0,0,0,0,0,0,0,0,0,6,0,0,6,0,0,0,0,6,0,0,0,0,0,0,4], 
        [0,0,0,0,0,0,0,0,0,6,0,0,6,0,0,0,0,6,0,0,0,0,0,0,4], 
        [0,0,0,0,0,0,0,0,0,1,0,0,6,0,0,0,0,6,0,0,0,0,0,0,4], 
        [0,0,0,0,0,0,0,0,0,0,0,0,6,0,0,0,0,6,0,0,0,0,7,0,4], 
        [0,0,0,0,0,0,0,0,0,0,0,0,6,0,0,0,0,6,0,0,0,0,1,1,1], 
        [0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1,1,1], 
        [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1], 
        [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
        [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0], 
        [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0], 
        [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
        [3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3], 
        ], //3
        
    [ 
        [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,1], 
        [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,1], 
        [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,1], 
        [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,7,0,0,0,0,0,6,1],
        [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,6,1], 
        [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,1,1], 
        [0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,1,0,0,0,0,0,0,1], 
        [0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,1,0,0,0,0,0,0,1], 
        [0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,1,0,0,0,0,0,0,1], 
        [0,0,0,0,0,0,0,0,0,0,0,1,0,0,1,0,0,1,0,0,0,0,0,0,1], 
        [0,0,0,0,0,0,0,0,0,0,0,1,0,0,1,0,0,1,0,0,0,0,0,0,1], 
        [0,0,0,0,0,0,0,0,0,0,0,1,0,0,1,0,0,1,1,0,0,0,0,0,1], 
        [0,0,0,0,0,0,0,0,1,0,0,1,0,0,1,0,0,1,0,0,0,0,0,0,1], 
        [0,0,0,0,0,0,0,0,1,0,0,1,0,0,1,0,0,1,0,0,0,0,0,0,4], 
        [0,0,0,1,0,0,0,0,1,0,0,1,0,0,1,0,0,1,0,0,0,0,0,0,4], 
        [0,0,0,1,5,5,5,5,1,5,5,1,5,5,1,5,5,1,0,0,0,0,0,0,4], 
        [1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,1,1,4], 
        [0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1,0,1,0,0,0,0,0,1,4], 
        [0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1,0,1,0,0,0,0,0,0,4],
        [0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1,1,1,0,0,0,0,0,0,4],
        [0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,1,0,0,0,0,0,0,4],
        [0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,0,0,0,0,0,0,4],
        [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,4],
        [3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,1,3,3,3,3,3,3,4],
        ], //4

    [
        [1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,4],
        [1,0,0,0,0,0,0,0,1,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,4],
        [1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,4],
        [1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,4],
        [1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0,0,0,1,4], 
        [1,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,1,4],
        [1,1,0,0,1,1,1,1,4,1,1,1,1,4,1,1,1,1,0,0,0,0,0,1,4],
        [1,0,0,0,1,1,1,1,4,1,1,1,1,4,1,1,1,1,0,0,0,0,0,1,4], 
        [1,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,1,1,4], 
        [1,0,0,0,1,1,1,4,1,1,1,1,1,1,4,1,1,1,0,0,0,0,0,1,4], 
        [1,1,0,0,1,1,1,4,1,1,1,1,1,1,4,1,1,1,0,0,0,0,0,1,4], 
        [1,0,0,0,1,1,1,1,4,4,4,4,4,4,1,1,1,1,1,0,0,0,0,1,4],
        [1,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,1,1,4],
        [1,0,0,1,1,0,0,0,1,0,0,0,1,0,0,1,0,1,0,0,0,0,0,1,4], 
        [1,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,4], 
        [1,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,4], 
        [1,1,0,0,1,1,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,4], 
        [1,0,0,0,1,1,1,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,4], 
        [1,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
        [1,1,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4], 
        [1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4], 
        [1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
        [1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4], 
        [1,1,1,1,1,1,1,1,1,1,0,1,0,0,0,1,1,0,0,1,0,0,1,1,4]
        ], //5
        
    [    

    [0,0,0,0,6,0,0,6,0,0,0,0,0,6,0,0,6,0,0,6,0,0,0,0,4], 
    [0,0,0,0,6,0,0,6,0,0,0,0,0,6,0,0,6,0,0,6,0,0,0,0,4], 
    [0,0,0,0,6,0,0,6,0,0,0,0,0,6,0,0,6,0,0,6,0,0,0,0,4], 
    [0,0,0,0,6,0,0,6,0,0,0,0,0,6,0,0,6,0,0,6,0,0,0,0,4], 
    [0,0,0,0,6,0,0,6,0,0,0,0,0,6,0,0,6,0,0,6,0,0,0,0,4], 
    [0,0,0,0,6,0,0,6,0,0,0,0,0,6,0,0,6,0,0,6,0,0,0,0,4], 
    [0,0,0,0,6,0,0,6,0,0,0,0,0,6,0,0,6,0,0,6,0,0,0,0,4],
    [0,0,0,0,6,0,0,6,0,0,0,0,0,6,0,0,6,0,0,6,0,0,0,0,4], 
    [0,0,0,0,6,0,0,6,0,0,0,0,0,6,0,0,6,0,0,6,0,0,0,0,4],
    [0,0,0,0,6,0,0,6,0,0,0,0,0,6,0,0,6,0,0,6,0,0,0,0,4],
    [0,0,0,0,6,0,0,6,0,0,0,0,0,6,0,0,6,0,0,6,0,0,0,0,4],
    [0,0,0,0,6,0,0,6,0,0,0,0,0,6,0,0,6,0,0,6,0,0,0,0,4], 
    [0,0,0,0,6,0,0,6,0,0,0,0,0,6,0,0,6,0,0,6,0,0,0,0,4], 
    [0,0,0,0,6,0,0,6,0,0,7,0,0,6,0,0,6,0,0,6,0,1,1,1,4],
    [0,0,0,0,6,0,0,6,0,0,1,0,0,6,0,0,6,0,0,6,0,0,1,1,4],
    [0,0,0,0,6,0,0,6,0,0,1,0,0,6,0,0,6,0,0,1,0,0,0,0,4],
    [0,0,0,0,6,0,0,1,0,0,1,0,0,1,0,0,6,0,0,0,0,0,0,0,4],
    [1,1,0,0,6,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,0,0,4],
    [1,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,4],
    [0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,4],
    [0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,4],
    [0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,4],
    [0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,4],
    [3,3,3,3,3,3,3,3,3,3,1,3,3,3,3,3,3,3,3,3,3,3,3,3,4],

    ], //6
    
    [
    [0,0,0,0,6,0,6,0,6,0,6,0,6,0,0,0,0,0,0,0,0,0,0,0,4],
    [0,0,0,0,6,0,6,0,6,0,6,0,6,0,0,0,0,0,0,0,0,0,0,0,4], 
    [0,0,0,0,6,0,6,0,6,0,6,0,6,0,0,0,0,0,0,0,0,0,0,0,4], 
    [0,0,0,0,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,4], 
    [0,0,0,1,0,0,1,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,4],
    [0,0,0,6,0,0,6,0,0,0,0,0,0,6,0,0,0,0,0,0,0,0,0,0,4], 
    [0,0,0,6,0,0,6,0,0,0,0,0,0,6,0,0,0,0,0,0,0,0,0,0,4],
    [0,0,0,6,0,0,6,0,0,0,0,0,0,6,0,0,0,0,0,0,0,0,0,0,4], 
    [0,0,0,6,0,0,6,0,0,0,0,0,0,6,0,0,0,0,0,0,0,0,0,0,4], 
    [0,0,0,6,0,0,6,0,0,0,0,0,0,6,0,0,0,0,0,0,0,0,0,0,4], 
    [0,0,0,6,0,0,6,0,0,0,0,0,0,6,0,0,0,0,0,0,0,0,0,0,4],
    [0,0,0,6,0,0,6,0,0,0,0,0,0,6,0,0,0,0,0,0,0,0,0,0,4],
    [0,0,0,6,0,0,6,0,0,0,0,0,0,6,0,0,0,0,0,0,0,1,1,1,4],
    [0,0,0,6,0,0,6,0,0,0,0,0,0,6,0,0,0,0,0,0,0,0,1,1,4], 
    [0,0,0,6,0,0,6,0,0,0,0,0,0,6,0,0,0,1,0,0,0,0,0,0,4], 
    [0,0,0,1,1,1,1,0,0,0,0,0,0,6,0,0,0,1,0,0,0,0,0,0,4], 
    [0,0,0,0,0,0,0,0,0,0,0,0,0,6,0,0,1,1,0,0,0,0,0,0,4], 
    [1,0,0,0,0,0,0,0,0,0,0,0,0,6,0,0,1,1,0,0,0,0,0,0,4], 
    [1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,1,1,0,0,0,0,0,0,4],
    [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,4],
    [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,4],
    [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,4],
    [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,4],
    [3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,1,1,3,3,3,3,3,3,4],
    ], //7
    
    [ 
    [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4], 
    [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4], 
    [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4], 
    [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4],
    [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4],
    [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4], 
    [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4], 
    [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4], 
    [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,4],
    [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,7,0,1,1,4],
    [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1,1,4], 
    [0,0,0,0,0,0,0,0,1,0,0,1,0,0,0,0,0,0,0,0,1,0,1,1,4],
    [0,0,0,0,0,0,0,0,1,0,0,1,0,0,0,0,0,0,0,0,1,1,1,1,4],
    [0,0,0,0,0,0,0,0,1,0,0,1,0,0,0,0,0,1,0,0,0,0,1,1,4], 
    [0,0,0,0,0,0,1,0,1,0,0,1,0,0,0,0,0,1,0,0,0,0,1,1,4],
    [0,0,0,0,0,0,1,0,1,0,0,1,0,1,0,0,0,1,0,0,0,0,1,1,4],
    [0,0,0,1,0,0,1,0,1,0,0,1,0,1,0,0,0,1,0,0,0,0,1,1,4],
    [0,0,0,1,0,0,1,0,1,0,0,1,0,1,0,0,0,1,0,0,0,0,1,1,4], 
    [1,0,0,1,0,0,1,0,1,0,0,1,0,1,0,0,0,1,0,0,0,0,0,0,4],
    [1,0,0,1,0,0,1,0,1,0,0,1,0,1,0,0,0,1,0,0,0,0,0,0,4],
    [0,0,0,1,0,0,1,0,1,0,0,1,0,1,0,0,0,1,0,0,0,0,0,0,4],
    [0,0,0,1,0,0,1,0,1,0,0,1,0,1,0,0,0,1,0,0,0,0,0,0,4],
    [0,0,0,1,0,0,1,0,1,0,0,1,0,1,0,0,0,1,0,0,0,0,0,0,4],
    [3,3,3,1,3,3,1,3,1,3,3,1,3,1,3,3,3,1,3,3,3,3,3,3,4],
    
    
    
    ], //8
    
    [
    [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4],
    [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4],
    [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4], 
    [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4], 
    [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4], 
    [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4], 
    [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4], 
    [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4], 
    [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4],
    [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4], 
    [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4], 
    [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4], 
    [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4],
    [0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,0,4], 
    [0,0,0,0,0,0,0,1,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,0,4],
    [1,0,0,0,0,0,0,1,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,0,4], 
    [1,0,0,0,0,0,0,1,0,0,0,1,0,0,0,0,1,1,0,0,0,0,0,0,4], 
    [1,0,0,0,0,0,0,1,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,0,4], 
    [1,0,0,0,0,0,0,1,0,0,0,1,1,0,0,0,0,1,0,0,0,0,0,0,4],
    [1,0,0,0,0,0,0,1,0,0,0,1,1,1,0,0,0,6,0,0,0,0,0,0,4],
    [0,0,0,0,0,0,0,6,0,0,0,6,0,6,0,0,0,6,0,0,0,0,0,0,4],
    [0,0,0,0,0,0,0,6,0,0,0,6,0,6,0,0,0,6,0,0,0,0,0,0,4],
    [0,0,0,0,0,0,0,6,0,0,0,6,0,6,0,0,0,6,0,0,0,0,0,0,4],
    [3,3,3,3,3,3,3,1,3,3,3,1,3,1,3,3,3,1,3,3,3,3,3,3,3],
    
    ], //9
    
    [ 
        [0,0,0,0,0,0,0,0,6,0,0,0,0,0,6,0,0,0,0,0,0,0,0,0,4],
        [0,0,0,0,0,0,0,0,6,0,0,0,0,0,6,0,0,0,0,0,0,0,0,0,4], 
        [0,0,0,0,0,0,0,0,6,0,0,0,0,0,6,0,0,0,0,0,0,0,0,0,4], 
        [0,0,0,0,0,0,0,0,6,0,0,0,0,0,6,0,0,0,0,0,0,0,0,0,4], 
        [0,0,0,0,0,0,0,0,6,0,0,0,0,0,6,0,0,0,0,0,0,0,0,0,4], 
        [0,0,0,0,0,0,0,0,6,0,0,0,0,0,6,0,0,0,0,0,0,0,1,1,1], 
        [0,0,0,0,0,0,0,0,6,0,0,0,0,0,6,0,0,0,0,0,0,1,4,4,4],
        [0,0,0,0,0,0,0,0,6,0,0,0,0,0,6,0,0,0,0,0,0,4,4,1,4],
        [0,0,0,0,0,0,0,0,6,0,0,0,0,0,6,0,0,0,0,0,0,1,1,0,4],
        [0,0,0,0,0,0,0,0,6,0,0,0,0,0,6,0,0,0,0,0,0,0,0,0,4],
        [0,0,0,0,0,0,0,0,6,0,0,0,0,0,6,0,0,0,0,0,0,0,0,0,4],
        [0,0,0,0,0,0,0,0,6,0,0,0,0,0,6,0,0,0,0,0,0,0,0,0,4],
        [0,0,0,0,1,0,0,0,6,0,0,0,0,0,6,0,0,0,1,1,0,0,0,0,4],
        [0,0,0,0,1,0,0,0,1,0,0,0,0,0,1,0,0,0,1,1,0,1,1,0,4],
        [1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,4,4,1,4], 
        [1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,1,4,4,4],
        [1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,1,1,4], 
        [1,1,1,0,0,0,0,5,5,5,5,5,0,0,0,0,0,0,1,0,0,0,0,0,4],
        [0,1,0,0,0,0,0,1,1,1,1,1,0,0,0,0,0,0,0,1,0,0,0,0,0],
        [0,1,0,0,0,0,0,1,0,0,0,1,0,0,0,0,0,0,1,0,0,0,0,0,0],
        [0,1,0,0,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0,0,0,0,0],
        [0,1,0,0,0,0,0,1,0,0,0,1,0,0,0,0,0,0,1,0,0,0,0,0,0],
        [0,1,5,5,5,5,5,1,5,5,5,1,5,5,5,5,5,5,0,1,5,5,5,5,5],
        [1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],
        
        ], //10
  
    [ 
        [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4],
        [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4], 
        [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4], 
        [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4], 
        [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4], 
        [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1], 
        [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,4,4,4],
        [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,4,1,4],
        [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,4],
        [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4],
        [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4],
        [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,4],
        [0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,4],
        [0,0,0,0,1,0,0,0,1,0,0,0,0,0,1,0,0,0,1,1,0,1,1,0,4],
        [1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,4,1,4], 
        [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,4,4,4],
        [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,4], 
        [0,0,0,0,0,0,0,5,5,5,5,5,0,0,0,0,0,0,0,0,0,0,0,0,4],
        [0,0,0,0,0,0,0,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0],
        [0,0,0,0,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0],
        [0,0,0,0,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0],
        [0,0,0,0,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0],
        [5,5,5,5,5,5,5,1,5,5,5,1,5,5,5,5,5,5,5,5,5,5,5,5,5],
        [1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],
        
        ],


]; 


var i = 0;
var pX = [200,0,100];
var pY = [200,400,100];


var timer = 0;
var timer2 = 0;

var px = 0;
var py = 0;

var pw = blockSize;
var ph = blockSize; 
var pgrav = 0; 
var pvel = 0; 
var onGround = false;
var sx = 20;
var sy = 20;
var keyUp = false;
var keyLeft = false;
var keyRight = false;

var applyPlayerPhysics = function( ) {
    
   
    px += round(pvel);
    py += round(pgrav);
    pgrav += gravityForce;
    
   
    if(pvel > 0) {
        pvel -= frictionForce; 
    } 
    if(pvel < 0) {
        pvel += frictionForce; 
    } 
    
};

var movePlayer = function() {
    

    if(keyUp === true && onGround === true) { 
        pgrav = jump;
        onGround = false; 
        
    } 
    
    if(keyRight === true) {
        pvel += acceleration; 
    } 
    
   
    if(keyLeft === true) { 
        pvel -= acceleration; 
    } 
    
}; 

var resetPlayer = function() {
    
   
    pgrav = 0; 
    pvel = 0;
    onGround = false; 
    
    if(level === 0){px = 50;  py = 471;}
    
    if(level === 1){px = 20; py = 500;}
    
    if(level === 2){px = 20; py = 100;}
    
    if(level === 3){px = 20; py = 275;}
        
    if(level === 4){px = 30; py = 500;}
    
    if(level === 5){px = 9; py = 389;}
    
    if(level === 6){px = 2; py = 100;}
    
    if(level === 7){px = 10; py = 396;}

    if(level === 8){px = 1; py = 410;}
        
    if(level === 9){px = 20; py = 333;}

}; 

 


var colors = [color(74, 74, 74),color(74, 74, 74),color(74, 74, 74),color(74, 74, 74),color(74, 74, 74),color(74, 74, 74),color(74, 74, 74),color(74, 74, 74),color(74, 74, 74),color(74, 74, 74),
];

var block = function(x, y, w, h,color) { 
    fill(color);
    rect(x, y, w, h); 
   

    
    if(px + pw > x && px < x + w && py + ph > y && py < y + h) {
    
        
        if(px + pw > x && px < x + w && py + ph - pgrav > y && py - pgrav < y + h) {
            
            
            
            if(pvel > 0) {
                px = x - pw; 
            } else if(pvel < 0) { 
                px = x + w; 
            }
            
            
            pvel = 0;
            
        }
        
       
        if(px + pw + pvel > x && px + pvel < x + w && py + ph > y && py < y + h) {
            
           
            if(pgrav >= 0) { 
                pgrav = 0; 
                py = y - ph; 
                onGround = true; 
            } else { 
                pgrav = 0.1; 
                py = y + h;
            }
        }
    }
    
}; 

var lava = function(x, y, w, h) { 

      
      

    
    if(px + pw > x && px < x + w && py + ph > y + 1 && py < y + h) { 
        resetPlayer();
    } 
    
}; 

var portal = function(x, y, w, h) { //Start portal function

    fill(portalColor); 
    rect(x, y, w, h); 
    
  
    if(px + pw > x && px < x + w && py + ph > y + 1 && py < y + h) { 
        
        
        level ++; 
        
        
        resetPlayer();
        
    } 
    
};

var StoneBrick = [
        
     
        "qqqqqqqqqqqqqqqq",
        "q!!!!!!q1111111Q",
        "q!!!!!!q1111111Q",
        "q!!!!!!qQQQQQQQQ",
        "q!!!!!!q1111111Q",
        "q!!!!!!q1111111Q",
        "q!!!!!!q1111111Q",
        "qqqqqqqq1111111Q",
        "q111111q1111111Q",
        "q111111q1111111Q",
        "q111111q1111111Q",
        "q111111qQQQQQQQQ",
        "q111111q1111111Q",
        "q111111q1111111Q",
        "q111111q1111111Q",
        "QQQQQQQQQQQQQQQQ",
        
        
        
        
        ];
        
var Lava = [
        
     
        "3333333333333333",
        "333###3333333333",
        "3333333333333333",
        "3333333###333333",
        "3333333333333333",
        "333333333333###3",
        "333###3333333333",
        "3333333333333333",
        "e3e3e3e3e3e3e3e3",
        "3e3e3e3e3e3e3e3e",
        "e3e3e3e3e3e3e3ee",
        "eeeeeeeeeeeeeeee",
        "eEEEeeeeeeeEEEee",
        "eeeeeeeeeeeeeeee",
        "eeeeEEEeeeeeeeee",
        "eeeeeeeeeeeeeeee",
        
        
        
        
        ];
        
var Player = [
        
        " MMMMMMMMMMMMMM ",
        "MmmmmmmmmmmmmmmM",
        "MmMMmmmmmmMMmmmM",
        "MmMMmmmmmmMMmmmM",
        "MmMMmmmmmmMMmmmM",
        "MmmMMMmmmmmMMMmM",
        "MmmmmmmmmmmmmmmM",
        "MmmmmmmmmmmmmmmM",
        "MmmmmmmmmmmmmmmM",
        "MmmmmmmmmmmmmmmM",
        "MmmmmmmmmmmmmmmM",
        "MmMmmmmmmmmmmmmM",
        "MmMmmmmmmmmmmmmM",
        "MmmMMMMMmmmmmmmM",
        "MmmmmmmmmmmmmmmM",
        " MMMMMMMMMMMMMM ",
        
        
        
        
        
        ];
        
var Chain = [
        
     
        "        Q       ",
        "        Q       ",
        "        Q       ",
        "       qqQ      ",
        "       q Q      ",
        "       q Q      ",
        "       qqQ      ",
        "        Q       ",
        "        Q       ",
        "        Q       ",
        "       qqQ      ",
        "       q Q      ",
        "       q Q      ",
        "       qqQ      ",
        "        Q       ",
        "        Q       ",
        
        
        
        
        ];
        
var Spike = [
        
     
        "       1        ",
        "        1       ",
        "       1        ",
        "       qQ       ",
        "       qQ       ",
        "       qQ       ",
        "       qQ       ",
        "     qqqqQQQ      ",
        "       qqQ      ",
        "       qqQ      ",
        "       qqQ      ",
        "    Q QQQQQ Q    ",
        "     QQQQQQQ     ",
        "      QQQQQ     ",
        "      QQQQQ     ",
        "   QQQQQQQQQQ   ",
        
        
        
        
        ];
        
var Torch = [
        
        "     %%%%        ",
        "    %%%%%%      ",
        "   %%%%%%%%     ",
        "  %%%%TT%%%%    ",
        "  %%%%TT%%%%    ",
        "  %%%%TT%%%%    ",
        "   %%%TT%%%     ",
        "    %%TT%%      ",
        "      $4        ",
        "      $$        ",
        "      $$        ",
        "      $4        ",
        "      $4        ",
        "      $$        ",
        "      $4        ",
        "      $4        ",
        
        
        
        
        ];

var loaded = false;

var images = {
    
  stone: 0,
  lava: 0,
  chain: 0,
  spike: 0,
  torch: 0,
  player: 0,
    
};

var drawArray = function (array,x, y){
    
        
for (var i = 0; i < array.length; i++) {
    var arrayColors = array[i];
    for (var c = 0; c < array[i].length; c += 1){
        var rectSize = 1.5;
        var px = arrayColors[c];
        
        noStroke();
        
        noFill();
        
        switch(px) {
            
            case null:noFill();noStroke();break;
            
            case "!":fill(220, 220, 220);break;
            case "1":fill(200, 200, 200);break;
            case "q":fill(180, 180, 180);break;
            case "Q":fill(160, 160, 160);break;
            
            case "@":fill(0, 255, 119);break;
            case "2":fill(0, 212, 99);break;
            case "w":fill(0, 176, 82);break;
            case "W":fill(0, 135, 61);break;
            
            case "#":fill(255, 0, 0);break;
            case "3":fill(224, 0, 0);break;
            case "e":fill(189, 0, 0);break;
            case "E":fill(148, 0, 0);break;
            
            case "$":fill(255, 162, 0);break;
            case "4":fill(204, 126, 0);break;
            case "r":fill(158, 97, 0);break;
            case "R":fill(110, 66, 0);break;
            
            case "%":fill(255, 242, 0);break;
            case "5":fill(255, 132, 0);break;
            case "t":fill(255, 0, 43);break;
            case "T":fill(196, 211, 255);break;
            
            case "m":fill(255, 255, 255);break;
            case "M":fill(0, 0, 0);break;
            
            
            
        }
        
          rect ((c * rectSize) + x, (i * rectSize) + y, rectSize, rectSize);
        
        
    }
}


};

var player = function( ) {
    
    image(images.player,px, py); 
    
    movePlayer();
    applyPlayerPhysics();
    
};

var readLevel = function() {
    
    
    for(var i = 0;i < levels[level].length; i++) {
       
        for(var j = 0;j < levels[level][i].length; j++) {
            
          
            if(levels[level][i][j] === 1) { 

               
    block(j * blockSize, i * blockSize, blockSize, blockSize,colors[level]);                
     
     image(images.stone,j * blockSize, i * blockSize);

            } else if(levels[level][i][j] === 2) {
                

                sx = j * blockSize; 
                sy = i * blockSize; 
                    
            } else if(levels[level][i][j] === 3) { 
                lava(j * blockSize, i * blockSize, blockSize, blockSize);
                 image(images.lava,j * blockSize, i * blockSize);
        
            } else if(levels[level][i][j] === 4) { 
                portal(j * blockSize, i * blockSize, blockSize, blockSize);
                
            } 
            else if(levels[level][i][j] === 5) { 
                lava(j * blockSize, i * blockSize, blockSize, blockSize);
                image(images.spike,j * blockSize,i * blockSize);
            } 
            
            else if(levels[level][i][j] === 6) { 
                
                image(images.chain,j * blockSize,i * blockSize);
            } 
            else if(levels[level][i][j] === 7) { 
                
                image(images.torch,j * blockSize,i * blockSize);
            } 
        
        } 

    } 
    
   

}; 

readLevel();
resetPlayer();






var draw = function() {
    
    
    
    switch(page){
    
    case "Menu":
        
        {
        
        background(0, 0, 0);
        
        fill(255, 255, 255);
        
        textSize(20);
        
        text("You follow a trail, leading out of the cave... \n      You see a castle, you go inside...",112,271);
        
        text("Click To Start",242,507);
        
        if(mouseIsPressed){
            
            page = "Game";
            
        }
        
        
        }
        
        break;
        
        
    
        
    case "Game":  
    
        
        if(!loaded){
        
    background(255,0);
    
    
    drawArray(StoneBrick,100, 100);
    drawArray(Lava,125, 100);
    drawArray(Chain,150, 100);
    drawArray(Spike,175, 100);
    drawArray(Torch,200, 100);
    drawArray(Player,225, 100);
    
    images.stone = get(100,100,25,25);
    images.lava  = get(125,100,25,25);
    images.chain = get(150,100,25,25);
    images.spike = get(175,100,25,25);
    images.torch = get(200,100,25,25);
    images.player = get(225,100,25,25);
    
    loaded = true;
    
    
    }
    
    
        background(112, 112, 112);
    
        player(); 
        
        readLevel();
        
        
        if(py > height) { 
            resetPlayer(); 
        } 
        
        if(px > 600){
            resetPlayer();
            println(true);
        }
        
        if(py < -100){
            resetPlayer();
            
        }
        
        if(level === 10){
            
            page = "CutScene2";
        }
        
        
        break;
        
    case "CutScene2":
        
        background(0);
        
        timer2++;
       
        textSize(20);
        
        fill(255);
        
text(" You see two men, one you do not recognize. \n    But the other...the other is your brother ! ",110,263);
        
    
    
        if(timer2 > 240){
            
            background(0, 0, 0);
            
            fill(255, 255, 255);
            
            text("To Be Continued...",211,275);
            
        }
        
        if(timer2 > 300){
            
            page = "Credits";
        }
        
        break;
        
    case "Credits":    
        
        background(0);
        
        fill(255, 255, 255);
        
        textSize(30);
        
        text("Ziviro Creations",194,200);
        
        text("William Valentine    &    Banks Valentine",38,305);
        
        break;
        
    }   
    
}; 

keyPressed = function() { 
    
    if(keyCode === UP) {
        
        keyUp = true;
    }
    
  
    if(keyCode === RIGHT) {
        
        keyRight = true; 
    }
    
    
    if(keyCode === LEFT) {
       
        keyLeft = true; 
    }
    
}; 
keyReleased = function() {

    
    if(keyCode === UP) {
        keyUp = false; 
    }
    

    if(keyCode === RIGHT) {
        keyRight = false; 
    }
    
    
    if(keyCode === LEFT) {
        keyLeft = false; 
    }
    
}; 



}
        if (typeof draw !== 'undefined') processing.draw = draw;
    });
  </script>
</body>
</html>
